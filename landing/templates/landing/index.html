{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{ meta.description }}">
    <meta name="keywords" content="{{ meta.keywords }}">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="{{ meta.title }}">
    <meta property="og:description" content="{{ meta.description }}">
    <meta property="og:image" content="{% static meta.og_image %}">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    
    <title>{{ meta.title }}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'landing/img/favicon.png' %}">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Inter:wght@300;400;500;600&family=Great+Vibes&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'landing/css/styles.css' %}">

    <style>
.checkbox-group {
    padding: 15px 0;
}

.checkbox-label {
    display: flex;
    align-items: flex-start;
    cursor: pointer;
    font-size: 0.9rem;
    line-height: 1.5;
}

.checkbox-label input[type="checkbox"] {
    margin-right: 12px;
    margin-top: 3px;
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: #4DB6AC;
    flex-shrink: 0;
}

.checkbox-text {
    color: #333;
    user-select: none;
}

.checkbox-text a {
    color: #4DB6AC;
    text-decoration: underline;
}

.checkbox-text a:hover {
    color: #377e7c;
}

/* Success message styles */
.success-message {
    background: #D1FAE5;
    border: 2px solid #059669;
    color: #065F46;
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
    text-align: center;
    font-weight: 600;
    font-size: 1.1rem;
    display: none;
    animation: slideDown 0.5s ease;
}

.success-message.show {
    display: block;
}

.success-message i {
    color: #059669;
    font-size: 2rem;
    display: block;
    margin-bottom: 10px;
}

/* Estilos para los botones de monto */
.amount-btn:hover {
    background: #4DB6AC !important;
    color: white !important;
    transform: translateY(-2px);
}

.amount-btn.active {
    background: #4DB6AC !important;
    color: white !important;
    box-shadow: 0 4px 12px rgba(77, 182, 172, 0.4);
}

/* Estilos para el estado del pago */
.payment-status.success {
    background: #D1FAE5;
    border: 2px solid #059669;
    color: #065F46;
    display: block !important;
}

.payment-status.error {
    background: #FEE2E2;
    border: 2px solid #DC2626;
    color: #991B1B;
    display: block !important;
}

.payment-status.processing {
    background: #DBEAFE;
    border: 2px solid #2563EB;
    color: #1E40AF;
    display: block !important;
}

</style>
</head>
<body>
    <!-- Loader -->
     <div class="loader" id="loader">
        <div class="loader-spinner"></div>
    </div>
    
    <!-- Header -->
    <!-- <header class="header" id="header">
        <nav class="navbar">
            <div class="logo-container">
                <img src="{% static 'landing/img/navbar-logo.png' %}" alt="{{ candidate.campaign_slogan }}" class="logo-img">
            </div>
            <button class="menu-toggle" id="menuToggle">
                <span>☰</span>
            </button>
        </nav> -->
        
         <!-- Mobile Menu -->
        <!-- <div class="mobile-menu" id="mobileMenu">
            <a href="#hero">Inicio</a>
            <a href="#team">Equipo</a>
            <a href="#plan">Plan Estratégico</a>
            <a href="#donate">Donar</a>
            <a href="#register">Registrarse</a>
            <a href="#contact">Contacto</a>
        </div>
    </header> -->
    
    <!-- Hero Section -->
    <!-- <section class="hero" id="hero">
        <div class="hero-content">
            <img src="{% static 'landing/img/logo-renovar.png' %}" alt="Dr. Méndez Sexto" class="hero-logo">

            <p class="hero-text">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            </p>
        </div>
    </section> -->

    <!-- Countdown Section -->
    <!-- <section class="countdown-section">
        <div class="countdown-wrapper">
            <h2 class="countdown-title">Lorem ipsum dolor</h2>
            
            <div class="countdown-display">
                <div class="countdown-row">
                    <div class="countdown-unit">
                        <span class="countdown-value" id="days-mini">{{ countdown.days }}</span>
                        <span class="countdown-label">Días</span>
                    </div>
                </div> -->
                
                <!-- <div class="countdown-row">
                    <div class="countdown-unit">
                        <span class="countdown-value" id="hours-mini">{{ countdown.hours }}</span>
                        <span class="countdown-label">Horas</span>
                    </div>
                </div> -->
                
                <!-- <div class="countdown-row">
                    <div class="countdown-unit">
                        <span class="countdown-value" id="minutes-mini">{{ countdown.minutes }}</span>
                        <span class="countdown-label">Minutos</span>
                    </div>
                </div> -->
                
                <!-- <div class="countdown-row">
                    <div class="countdown-unit">
                        <span class="countdown-value" id="seconds-mini">{{ countdown.seconds }}</span>
                        <span class="countdown-label">Segundos</span>
                    </div>
                </div>
            </div>
        </div>
    </section> -->
    
    <!-- Team Section -->
    <!-- <section class="team-section" id="team">
        <div class="section-header">
            <div class="section-header-content">
                <h2>Nuestro</h2>
                <div class="script">Equipo</div>
            </div>
        </div>
        <div class="container">
            <div class="team-grid">
                {% for member in team_members %}
                <div class="team-member animate-on-scroll">
                    <div class="team-member-image">
                        {% if member.image %}
                        <img src="{% static member.image %}" alt="{{ member.name }}">
                        {% else %}
                        <img src="{% static 'landing/img/placeholder-avatar.jpg' %}" alt="{{ member.name }}">
                        {% endif %}
                    </div>
                    <h3>{{ member.name }}</h3>
                    <p class="role">{{ member.role }}</p>
                    <p class="district">{{ member.district }}</p>
                </div>
                {% endfor %} -->
                
                <!-- Featured Member -->
                <!-- <div class="team-member juan-destacado animate-on-scroll">
                    <div class="team-member-image">
                        {% if featured_member.image %}
                        <img src="{% static featured_member.image %}" alt="{{ featured_member.name }}">
                        {% else %}
                        <img src="{% static 'landing/img/placeholder-avatar.jpg' %}" alt="{{ featured_member.name }}">
                        {% endif %}
                    </div>
                    <h3>{{ featured_member.name }}</h3>
                    <p class="role">{{ featured_member.role }}</p>
                    <p class="district">{{ featured_member.district }}</p>
                </div>
            </div>
        </div>
    </section> -->
    
    <!-- Strategic Plan Section -->
    <!-- <section class="strategic-plan" id="plan">
        <div class="container">
            <h2>Plan</h2>
            <div class="script">Estratégico</div>
            
            <div class="plan-cards">
                {% for plan in strategic_plans %}
                <div class="plan-card animate-on-scroll">
                    <h3>{{ plan.title }}</h3>
                    <p>{{ plan.description }}</p>
                    <a href="#" class="btn btn-teal-outline">Leer más</a>
                </div>
                {% endfor %}
            </div>
        </div>
    </section> -->
    
    <!-- Donation Section-->
    <section class="donation-section" id="donate">
        <div class="container">
            <div class="donation-wrapper">
                <div class="donation-header">
                    <div class="header-badge">¡Apoya la Campaña!</div>
                    <div class="title-main">Haz tu</div>
                    <div class="title-script">donación</div>
                    <p class="subtitle-text">
                        Tu apoyo impulsa la transformación del Colegio de Médicos y la salud de Puerto Rico.
                    </p>
                </div>

                <div class="donation-content">
                    <!-- Mensaje de estado -->
                    <div id="paymentStatusDonation" class="payment-status" style="display: none; padding: 20px; border-radius: 12px; margin-bottom: 25px; text-align: center;"></div>
                    
                    <div class="amount-options">
                        <h3>Selecciona un monto</h3>
                        
                        <div class="amount-grid">
                            <div class="amount-btn" data-amount="25">
                                <span class="amount-value">$25</span>
                                <span class="amount-label">Apoyo Básico</span>
                            </div>
                            <div class="amount-btn" data-amount="50">
                                <span class="amount-value">$50</span>
                                <span class="amount-label">Apoyo Solidario</span>
                            </div>
                            <div class="amount-btn" data-amount="100">
                                <span class="amount-value">$100</span>
                                <span class="amount-label">Apoyo Comprometido</span>
                            </div>
                            <div class="amount-btn" data-amount="250">
                                <span class="amount-value">$250</span>
                                <span class="amount-label">Apoyo Firme</span>
                            </div>
                            <div class="amount-btn" data-amount="500">
                                <span class="amount-value">$500</span>
                                <span class="amount-label">Apoyo Extraordinario</span>
                            </div>
                            <div class="amount-btn" data-amount="1000">
                                <span class="amount-value">$1,000</span>
                                <span class="amount-label">Apoyo Transformador</span>
                            </div>
                        </div>
                    </div>

                    <div class="custom-amount">
                        <p>O ingresa otra cantidad:</p>
                        <div class="custom-input-wrapper">
                            <input 
                                type="number" 
                                class="custom-input" 
                                id="customDonationAmount"
                                placeholder="0.00"
                                min="1"
                                max="1500"
                                step="0.01"
                            >
                        </div>
                    </div>

                    <!-- Monto seleccionado -->
                    <div id="selectedAmountDisplay" style="display: none; background: #E8F5E9; border: 2px solid #4CAF50; border-radius: 12px; padding: 20px; margin: 25px 0; text-align: center;">
                        <p style="color: #2E7D32; margin: 0 0 10px 0; font-size: 1rem;">Monto seleccionado:</p>
                        <p style="color: #2E7D32; margin: 0; font-size: 2.5rem; font-weight: 700;">
                            $<span id="selectedAmountValue">0</span>
                        </p>
                    </div>

                    <div class="info-note" style="background: #E3F2FD; border-left: 4px solid #2196F3; padding: 20px; border-radius: 8px; margin: 25px 0;">
                        <h4 style="color: #1565C0; margin: 0 0 10px 0; font-size: 1.1rem;">
                            ¿Cómo funciona?
                        </h4>
                        <ol style="color: #1565C0; margin: 0; padding-left: 20px; line-height: 1.8;">
                            <li>Selecciona un monto arriba</li>
                            <li>Haz click en "Donar con ATH Móvil"</li>
                            <li>Ingresa tu número de teléfono</li>
                            <li>Abre la app ATH Móvil y confirma</li>
                        </ol>
                    </div>

                    <!-- ATH Móvil Payment Button -->
                    <div id="ATHMovil_Checkout_Button_payment"></div>

                    <div class="donation-info" style="margin-top: 25px;">
                        <p style="color: #718096; margin-bottom: 10px; font-size: 0.9rem;">
                            Donación segura a través de <strong>ATH Móvil sección Pay a Business</strong> 
                        </p>
                        <div class="ath-handle">/comitedrmendezsexto</div>
                    </div>

                    <p style="text-align: center; color: #718096; font-size: 0.9rem; margin-top: 20px;">
                        Este comité está debidamente registrado como una entidad sin fines de lucro.
                    </p>

                    <div class="campaign-hashtag">#RenovarParaAvanzar</div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Register Section - Añadir esto en el index.html después de la sección de donación -->
    <section class="register-section" id="register">
        <div class="container">
            <div class="register-wrapper">
                <div class="register-header">
                    <div class="header-badge">Registro</div>
                    
                    <div class="title-section">
                        <div class="title-main">¡Iniciemos la</div>
                        <div class="title-script">renovación!</div>
                        
                        <div class="doctor-name">
                            <img src="{% static 'landing/img/logo-mendez.png' %}" alt="Dr. Méndez Sexto">
                        </div>
                        
                        <div class="campaign-hashtag">#RenovarParaAvanzar</div>
                    </div>
                </div>
                
                <div class="register-form-container">
                    <form method="post" action="{% url 'landing:register' %}" id="registerForm" class="register-form">
                        {% csrf_token %}
                        
                        <div class="form-row">
                            <div class="form-group">
                                <input type="text" name="name" placeholder="Nombre" required>
                            </div>
                            
                            <div class="form-group">
                                <input type="text" name="last_name" placeholder="Apellidos" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <input type="email" name="email" id="email" placeholder="Correo electrónico" required>
                            <div class="email-validation" id="emailValidation"></div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <input type="text" name="postal_address" placeholder="Dirección postal" required>
                            </div>
                            
                            <div class="form-group">
                                <input type="tel" name="phone_number" id="phone" placeholder="Número telefónico" required>
                            </div>
                        </div>
                        
                        <div class="question-group">
                            <div class="question-section">¿Eres médico?</div>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <label>Sí</label>
                                    <input type="radio" name="is_doctor" value="True" id="doctor_yes" required>
                                </div>
                                <div class="radio-option">
                                    <label>No</label>
                                    <input type="radio" name="is_doctor" value="False" id="doctor_no">
                                </div>
                            </div>
                        </div>

                        <!-- INICIO DEL DIV QUE SE OCULTA -->
                        <div id="doctorFields" style="display: none;">
                            
                            <div class="form-group">
                                <input type="text" name="specialty" id="specialty" placeholder="Especialidad que practica">
                            </div>
                            
                            <div class="years-section">
                                <span>Años ejerciendo</span>
                                <input type="number" name="years_practicing" id="years" min="0" max="70" placeholder="0">
                            </div>
                            
                            <div class="form-group">
                                <textarea name="service_location" id="service_location" placeholder="¿Dónde ofrece servicios?" rows="2"></textarea>
                            </div>
                            
                            <div class="question-group">
                                <div class="question-section">¿Eres colegiado?</div>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <label>Sí</label>
                                        <input type="radio" name="is_licensed" value="True" id="licensed_yes">
                                    </div>
                                    <div class="radio-option">
                                        <label>No</label>
                                        <input type="radio" name="is_licensed" value="False" id="licensed_no">
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <!-- FIN DEL DIV QUE SE OCULTA -->

                        <!-- ESTE DEBE ESTAR FUERA, SIEMPRE VISIBLE -->
                        <div class="question-group">
                            <div class="question-section" style="font-size: .75rem;">¿Desea voto adelantado?</div>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <label>Sí</label>
                                    <input type="radio" name="needs_voting_help" value="True" required>
                                </div>
                                <div class="radio-option">
                                    <label>No</label>
                                    <input type="radio" name="needs_voting_help" value="False">
                                </div>
                            </div>
                        </div>

                        <!-- Checkbox de términos y condiciones -->
                        <div class="checkbox-group" style="margin: 25px 0;">
                            <label class="checkbox-label">
                                <input type="checkbox" 
                                    name="accepts_terms" 
                                    id="accepts_terms" 
                                    required 
                                    checked>
                                <span class="checkbox-text">
                                    Acepto los <a href="{% url 'landing:terms' %}" style="color: #4DB6AC; text-decoration: underline;">términos y condiciones</a>
                                </span>
                            </label>
                        </div>

                        <!-- Checkbox de promociones -->
                        <div class="checkbox-group" style="margin: 25px 0;">
                            <label class="checkbox-label">
                                <input type="checkbox" 
                                    name="accepts_promotions" 
                                    id="accepts_promotions" 
                                    checked>
                                <span class="checkbox-text">
                                    Acepto recibir información sobre la campaña y actividades
                                </span>
                            </label>
                        </div>
                        
                        <button type="submit" class="register-submit-btn">Someter</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <h3>{{ candidate.name }}</h3>
                <p class="subtitle">Candidato a la Presidencia del Colegio de Médicos Cirujanos de Puerto Rico</p>
                <h4>Conteo Regresivo para elecciones.</h4>
            </div>
            
            <div class="countdown" id="countdown" data-countdown-url="{% url 'landing:countdown-api' %}">
                <div class="countdown-item">
                    <span class="countdown-number" id="days">{{ countdown.days }}</span>
                    <span class="countdown-label">Días</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="hours">{{ countdown.hours }}</span>
                    <span class="countdown-label">Horas</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="minutes">{{ countdown.minutes }}</span>
                    <span class="countdown-label">Minutos</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="seconds">{{ countdown.seconds }}</span>
                    <span class="countdown-label">Segundos</span>
                </div>
            </div>
            
            <div class="social-links">
                {% if social_media.facebook %}
                <a href="https://www.facebook.com/share/17NsSyDXX3/?mibextid=wwXIfr" target="_blank" class="social-link"><i class="fab fa-facebook-f"></i></a>
                {% endif %}
                {% if social_media.twitter %}
                <a href="https://x.com/drmendezsexto?s=21" target="_blank" class="social-link"><i class="fab fa-x-twitter"></i></a>
                {% endif %}
                {% if social_media.instagram %}
                <a href="https://www.instagram.com/drmendezsexto?igsh=Ym9hamN3ZG5idmd3" target="_blank" class="social-link"><i class="fab fa-instagram"></i></a>
                {% endif %}
            </div>
            <div class="copyright">
                <p>&copy; 2025 {{ candidate.campaign_slogan }}. Todos los derechos reservados.</p>
                <p style="margin-top: 10px; font-size: 0.8rem;">
                    Powered By Dominio
                </p>
            </div>
        </div>
    </footer>
    <!-- ==========================================
         DJANGO MESSAGES DATA
         ========================================== -->
    {% if messages %}
    <script>
        window.djangoMessages = [
            {% for message in messages %}
            {
                level: '{{ message.tags }}',
                message: '{{ message|escapejs }}'
            }{% if not forloop.last %},{% endif %}
            {% endfor %}
        ];
    </script>
    {% endif %}

    <!-- ==========================================
         SCROLL TO REGISTER (Django variable)
         ========================================== -->
    {% if scroll_to_register %}
    <script>
        window.addEventListener('load', function() {
            setTimeout(function() {
                const registerSection = document.getElementById('register');
                if (registerSection) {
                    registerSection.scrollIntoView({ behavior: 'smooth' });
                }
            }, 600);
        });
    </script>
    {% endif %}

    <!-- ==========================================
         EXTERNAL JAVASCRIPT FILES
         ========================================== -->
    
    <!-- 1. ATH Móvil Base Script (DEBE IR PRIMERO) -->
    <script src="https://payments.athmovil.com/api/js/athmovil_base.js"></script>
    
    <!-- 2. Custom JavaScript Modules -->
    <script src="{% static 'landing/js/page-interactions.js' %}"></script>
    <script src="{% static 'landing/js/form-validation.js' %}"></script>
    <script src="{% static 'landing/js/countdown-timer.js' %}"></script>
    <script src="{% static 'landing/js/ath-movil-payment.js' %}"></script>
    <script src="{% static 'landing/js/messages-handler.js' %}"></script>

</body>
</html>